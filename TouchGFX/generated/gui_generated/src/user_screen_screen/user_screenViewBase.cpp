/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/user_screen_screen/user_screenViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <texts/TextKeysAndLanguages.hpp>
#include <images/BitmapDatabase.hpp>

user_screenViewBase::user_screenViewBase() :
    flexButtonCallback(this, &user_screenViewBase::flexButtonCallbackHandler),
    buttonCallback(this, &user_screenViewBase::buttonCallbackHandler)
{
    __background.setPosition(0, 0, 800, 480);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    background.setPosition(0, 0, 800, 480);
    background.setColor(touchgfx::Color::getColorFromRGB(73, 184, 72));
    add(background);

    user_button.setBoxWithBorderPosition(0, 0, 720, 80);
    user_button.setBorderSize(5);
    user_button.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(73, 184, 72), touchgfx::Color::getColorFromRGB(0, 0, 0), touchgfx::Color::getColorFromRGB(0, 0, 0));
    user_button.setAction(flexButtonCallback);
    user_button.setPosition(80, 188, 720, 80);
    add(user_button);

    view_password_button.setBoxWithBorderPosition(0, 0, 330, 80);
    view_password_button.setBorderSize(5);
    view_password_button.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(73, 184, 72), touchgfx::Color::getColorFromRGB(0, 0, 0), touchgfx::Color::getColorFromRGB(0, 0, 0));
    view_password_button.setAction(flexButtonCallback);
    view_password_button.setPosition(61, 383, 330, 80);
    add(view_password_button);

    password_button.setBoxWithBorderPosition(0, 0, 720, 80);
    password_button.setBorderSize(5);
    password_button.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(73, 184, 72), touchgfx::Color::getColorFromRGB(0, 0, 0), touchgfx::Color::getColorFromRGB(0, 0, 0));
    password_button.setAction(flexButtonCallback);
    password_button.setPosition(80, 285, 720, 80);
    add(password_button);

    enter_button.setBoxWithBorderPosition(0, 0, 330, 80);
    enter_button.setBorderSize(5);
    enter_button.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(73, 184, 72), touchgfx::Color::getColorFromRGB(0, 0, 0), touchgfx::Color::getColorFromRGB(0, 0, 0));
    enter_button.setAction(flexButtonCallback);
    enter_button.setPosition(409, 383, 330, 80);
    add(enter_button);

    username_text.setPosition(86, 204, 715, 48);
    username_text.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    username_text.setLinespacing(0);
    username_textBuffer[0] = 0;
    username_text.setWildcard(username_textBuffer);
    username_text.setTypedText(touchgfx::TypedText(T_USERNAME_TITLE));
    add(username_text);

    password_text.setPosition(86, 301, 715, 48);
    password_text.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    password_text.setLinespacing(0);
    password_textBuffer[0] = 0;
    password_text.setWildcard(password_textBuffer);
    password_text.setTypedText(touchgfx::TypedText(T_PASSWORD_TITLE));
    add(password_text);

    logo_background.setPosition(290, 20, 220, 150);
    logo_background.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    logo_background.setBorderColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    logo_background.setBorderSize(5);
    add(logo_background);

    bike_logo.setXY(332, 48);
    bike_logo.setBitmap(touchgfx::Bitmap(BITMAP_ELECTRIUM_BIKE_ID));
    add(bike_logo);

    password_icon.setXY(0, 285);
    password_icon.setBitmap(touchgfx::Bitmap(BITMAP_PASSWORD_ICON_ID));
    add(password_icon);

    user_icon.setXY(0, 188);
    user_icon.setBitmap(touchgfx::Bitmap(BITMAP_USERNAME_ICON_ID));
    add(user_icon);

    enter_icon.setXY(544, 400);
    enter_icon.setBitmap(touchgfx::Bitmap(BITMAP_ENTER_ICON_ID));
    add(enter_icon);

    view_password_title.setXY(78, 399);
    view_password_title.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    view_password_title.setLinespacing(0);
    view_password_title.setTypedText(touchgfx::TypedText(T_VIEW_PASSWORD));
    add(view_password_title);

    login_error_window.setBackground(touchgfx::BitmapId(BITMAP_ALTERNATE_THEME_IMAGES_CONTAINERS_LARGE_WIDE_NEUTRAL_ID), 160, 105);
    login_error_window.setShadeColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    login_error_window.setShadeAlpha(150);
    login_error_window.hide();
    close_popup.setXY(0, 190);
    close_popup.setBitmaps(touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_60_LARGE_ROUND_PRESSED_ID), touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_60_LARGE_ROUND_DISABLED_ID));
    close_popup.setLabelText(touchgfx::TypedText(T_CLOSE_POPUP));
    close_popup.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    close_popup.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    close_popup.setAction(buttonCallback);
    login_error_window.add(close_popup);

    error_text.setPosition(0, 75, 480, 96);
    error_text.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    error_text.setLinespacing(0);
    error_text.setTypedText(touchgfx::TypedText(T_LOGIN_ERROR));
    login_error_window.add(error_text);

    add(login_error_window);
}

user_screenViewBase::~user_screenViewBase()
{

}

void user_screenViewBase::setupScreen()
{

}

void user_screenViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &user_button)
    {
        //user_button_interaction
        //When user_button clicked call virtual function
        //Call user_pressed
        user_pressed();
    }
    if (&src == &password_button)
    {
        //password_button_interraction
        //When password_button clicked call virtual function
        //Call password_pressed
        password_pressed();
    }
    if (&src == &enter_button)
    {
        //enter_button_interaction
        //When enter_button clicked call virtual function
        //Call enter_pressed
        enter_pressed();
    }
    if (&src == &view_password_button)
    {
        //password_visibility_interaction
        //When view_password_button clicked call virtual function
        //Call toggle_password_visibility
        toggle_password_visibility();
    }
}

void user_screenViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &close_popup)
    {
        //error_popup_interaction
        //When close_popup clicked hide login_error_window
        //Hide login_error_window
        login_error_window.setVisible(false);
        login_error_window.invalidate();
    }
}

void user_screenViewBase::to_main_screen()
{
    //to_main_screen_interaction
    //When to_main_screen is called change screen to main_screen
    //Go to main_screen with no screen transition
    application().gotomain_screenScreenNoTransition();
}
